# 全局

## tb 图表 
图表命令

### 用法

`tb <子命令>`



### bt 饼图 
把数据转换成饼图

#### 用法

`tb bt <-y <饼图取值字段>> [-gl <过滤条件>] [-lb <图表项类别>] [-pz <配置数据>] [-sj <表格数据>]`

#### 参数
| 名称 | 描述 | 类型 | 是否可选 | 默认值 | 可选值 |
| :--: | :-- | :--: | :--: | :--: | :--: |
| 类型 | 图表的类型 | string | false |  |  |

#### 选项
| 选项参数 | 名称 | 描述 | 类型 | 是否可选 | 默认值 | 可选值 |
| :--: | :--: | :-- | :--: | :--: | :--: | :--: |
| `-gl，--过滤` | 过滤 | 表格数据过滤参数<br/>        格式如：列名称:行名称·过滤方法 或 \*:行名称·过滤方法 或 列名称:\*·过滤方法 或 列名称1:\*·过滤方法，列名称2:\*·过滤方法 | string | true |  |  |
| `-dw，--单位` | 单位 | 数据单位 | string | true |  |  |
| `-lb，--类别` | 类别 | 图表项类别 | string | true |  |  |
| `-sj，--数据` | 数据 | 表格数据 | array | true |  |  |
| `-pz，--配置` | 配置 | 图表额外配置 | string | true |  |  |
| `-y，--纵轴` | 纵轴 | 饼图取值字段 | string | false |  |  |

#### 命令示例

`tb bt -y 占比 -lb 产品 -sj [{"产品":"茅台酒","占比":0.8408},{"产品":"其它系列酒","占比":0.137},{"产品":"其它业务","占比":0.0222}]`
<IStockShellDemo cmd='tb bt -y 占比 -lb 产品 -sj [{"产品":"茅台酒","占比":0.8408},{"产品":"其它系列酒","占比":0.137},{"产品":"其它业务","占比":0.0222}]' :domains='[]' :height='480'/>
### txt 条形图 
把数据转换成条形图

#### 用法

`tb txt <-x <条形图横轴取值字段>> <-y <条形图纵轴取值字段>> [-gl <过滤条件>] [-lb <图表项类别>] [-pz <配置数据>] [-sj <表格数据>]`

#### 参数
| 名称 | 描述 | 类型 | 是否可选 | 默认值 | 可选值 |
| :--: | :-- | :--: | :--: | :--: | :--: |
| 类型 | 图表的类型 | string | false |  |  |

#### 选项
| 选项参数 | 名称 | 描述 | 类型 | 是否可选 | 默认值 | 可选值 |
| :--: | :--: | :-- | :--: | :--: | :--: | :--: |
| `-gl，--过滤` | 过滤 | 表格数据过滤参数<br/>        格式如：列名称:行名称·过滤方法 或 \*:行名称·过滤方法 或 列名称:\*·过滤方法 或 列名称1:\*·过滤方法，列名称2:\*·过滤方法 | string | true |  |  |
| `-dw，--单位` | 单位 | 数据单位 | string | true |  |  |
| `-lb，--类别` | 类别 | 图表项类别 | string | true |  |  |
| `-sj，--数据` | 数据 | 表格数据 | array | true |  |  |
| `-pz，--配置` | 配置 | 图表额外配置 | string | true |  |  |
| `-x，--横轴` | 横轴 | 条形图横轴取值字段 | string | false |  |  |
| `-y，--纵轴` | 纵轴 | 条形图纵轴取值字段 | string | false |  |  |

#### 命令示例

`tb txt -x 年报 -y 净利润(亿元) -sj [{"年报":"2019年报","净利润(亿元)":412.06,"净利润同比增长":0.1705},{"年报":"2020年报","净利润(亿元)":466.97,"净利润同比增长":0.1333},{"年报":"2021年报","净利润(亿元)":524.6,"净利润同比增长":0.1234},{"年报":"2022年报","净利润(亿元)":627.17,"净利润同比增长":0.1955},{"年报":"2023年报","净利润(亿元)":747.34,"净利润同比增长":0.1916}]`
<IStockShellDemo cmd='tb txt -x 年报 -y 净利润(亿元) -sj [{"年报":"2019年报","净利润(亿元)":412.06,"净利润同比增长":0.1705},{"年报":"2020年报","净利润(亿元)":466.97,"净利润同比增长":0.1333},{"年报":"2021年报","净利润(亿元)":524.6,"净利润同比增长":0.1234},{"年报":"2022年报","净利润(亿元)":627.17,"净利润同比增长":0.1955},{"年报":"2023年报","净利润(亿元)":747.34,"净利润同比增长":0.1916}]' :domains='[]' :height='480'/>
### zxt 折线图 
把数据转换成折线图

#### 用法

`tb zxt <-x <折线图横轴取值字段>> <-y <折线图纵轴取值字段>> [-gl <过滤条件>] [-lb <图表项类别>] [-pz <配置数据>] [-sj <表格数据>]`

#### 参数
| 名称 | 描述 | 类型 | 是否可选 | 默认值 | 可选值 |
| :--: | :-- | :--: | :--: | :--: | :--: |
| 类型 | 图表的类型 | string | false |  |  |

#### 选项
| 选项参数 | 名称 | 描述 | 类型 | 是否可选 | 默认值 | 可选值 |
| :--: | :--: | :-- | :--: | :--: | :--: | :--: |
| `-gl，--过滤` | 过滤 | 表格数据过滤参数<br/>        格式如：列名称:行名称·过滤方法 或 \*:行名称·过滤方法 或 列名称:\*·过滤方法 或 列名称1:\*·过滤方法，列名称2:\*·过滤方法 | string | true |  |  |
| `-dw，--单位` | 单位 | 数据单位 | string | true |  |  |
| `-lb，--类别` | 类别 | 图表项类别 | string | true |  |  |
| `-sj，--数据` | 数据 | 表格数据 | array | true |  |  |
| `-pz，--配置` | 配置 | 图表额外配置 | string | true |  |  |
| `-x，--横轴` | 横轴 | 折线图横轴取值字段 | string | false |  |  |
| `-y，--纵轴` | 纵轴 | 折线图纵轴取值字段 | string | false |  |  |

#### 命令示例

`tb zxt -x 年报 -y 净利润(亿元) -sj [{"年报":"2019年报","净利润(亿元)":412.06,"净利润同比增长":0.1705},{"年报":"2020年报","净利润(亿元)":466.97,"净利润同比增长":0.1333},{"年报":"2021年报","净利润(亿元)":524.6,"净利润同比增长":0.1234},{"年报":"2022年报","净利润(亿元)":627.17,"净利润同比增长":0.1955},{"年报":"2023年报","净利润(亿元)":747.34,"净利润同比增长":0.1916}]`
<IStockShellDemo cmd='tb zxt -x 年报 -y 净利润(亿元) -sj [{"年报":"2019年报","净利润(亿元)":412.06,"净利润同比增长":0.1705},{"年报":"2020年报","净利润(亿元)":466.97,"净利润同比增长":0.1333},{"年报":"2021年报","净利润(亿元)":524.6,"净利润同比增长":0.1234},{"年报":"2022年报","净利润(亿元)":627.17,"净利润同比增长":0.1955},{"年报":"2023年报","净利润(亿元)":747.34,"净利润同比增长":0.1916}]' :domains='[]' :height='480'/>
### gplzt 股票蜡烛图 
把数据转换成股票蜡烛图

#### 用法

`tb gplzt <-x <蜡烛图横轴取值字段>> <-y1 <蜡烛图纵轴开盘价收盘价>> <-y2 <蜡烛图纵轴最高价最低价>> [-gl <过滤条件>] [-lb <图表项类别>] [-pz <配置数据>] [-sj <表格数据>]`

#### 参数
| 名称 | 描述 | 类型 | 是否可选 | 默认值 | 可选值 |
| :--: | :-- | :--: | :--: | :--: | :--: |
| 类型 | 图表的类型 | string | false |  |  |

#### 选项
| 选项参数 | 名称 | 描述 | 类型 | 是否可选 | 默认值 | 可选值 |
| :--: | :--: | :-- | :--: | :--: | :--: | :--: |
| `-gl，--过滤` | 过滤 | 表格数据过滤参数<br/>        格式如：列名称:行名称·过滤方法 或 \*:行名称·过滤方法 或 列名称:\*·过滤方法 或 列名称1:\*·过滤方法，列名称2:\*·过滤方法 | string | true |  |  |
| `-dw，--单位` | 单位 | 数据单位 | string | true |  |  |
| `-lb，--类别` | 类别 | 图表项类别 | string | true |  |  |
| `-sj，--数据` | 数据 | 表格数据 | array | true |  |  |
| `-pz，--配置` | 配置 | 图表额外配置 | string | true |  |  |
| `-x，--横轴` | 横轴 | 蜡烛图横轴取值字段 | string | false |  |  |
| `-y1，--纵轴1` | 纵轴1 | 设置蜡烛图纵轴开盘价收盘价的取值字段，如：开盘价,收盘价 | string | false |  |  |
| `-y2，--纵轴2` | 纵轴2 | 设置蜡烛图纵轴最高价最低价的取值字段，如：最高价,最低价 | string | false |  |  |

#### 命令示例

`tb gplzt -x 日期 -y1 开盘,收盘 -y2 最高,最低 -sj [{"日期":"2024-04-15T00:00:00.000","开盘":1635.01,"收盘":1672.98,"最高":1675.61,"最低":1634.98},{"日期":"2024-04-16T00:00:00.000","开盘":1665.49,"收盘":1670,"最高":1679.56,"最低":1659},{"日期":"2024-04-17T00:00:00.000","开盘":1668,"收盘":1667,"最高":1675.2,"最低":1658},{"日期":"2024-04-18T00:00:00.000","开盘":1659.01,"收盘":1670.78,"最高":1682.98,"最低":1658.18},{"日期":"2024-04-19T00:00:00.000","开盘":1660.78,"收盘":1646.64,"最高":1668.5,"最低":1641.28}]`
<IStockShellDemo cmd='tb gplzt -x 日期 -y1 开盘,收盘 -y2 最高,最低 -sj [{"日期":"2024-04-15T00:00:00.000","开盘":1635.01,"收盘":1672.98,"最高":1675.61,"最低":1634.98},{"日期":"2024-04-16T00:00:00.000","开盘":1665.49,"收盘":1670,"最高":1679.56,"最低":1659},{"日期":"2024-04-17T00:00:00.000","开盘":1668,"收盘":1667,"最高":1675.2,"最低":1658},{"日期":"2024-04-18T00:00:00.000","开盘":1659.01,"收盘":1670.78,"最高":1682.98,"最低":1658.18},{"日期":"2024-04-19T00:00:00.000","开盘":1660.78,"收盘":1646.64,"最高":1668.5,"最低":1641.28}]' :domains='[]' :height='480'/>
